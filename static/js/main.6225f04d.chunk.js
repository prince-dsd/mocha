(this["webpackJsonpmocha-client"]=this["webpackJsonpmocha-client"]||[]).push([[0],{109:function(n,e){},125:function(n,e){},127:function(n,e){},147:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(62),c=t.n(i),u=(t(78),t(70)),o=t(1),l=(t(79),t(71)),f=t(72),d=t(63),s=t.n(d),m=t(33),h=t.n(m),v=t(3),p=t(2);function g(){var n=Object(v.a)(["\n  height: 40%;\n  width: 50%;\n"]);return g=function(){return n},n}function b(){var n=Object(v.a)(["\n  padding: 20px;\n  display: flex;\n  height: 100vh;\n  width: 90%;\n  margin: auto;\n  flex-wrap: wrap;\n"]);return b=function(){return n},n}var j=p.default.div(b()),w=p.default.video(g());function E(){var n=Object(v.a)(["\n  height: 40%;\n  width: 50%;\n"]);return E=function(){return n},n}var O=p.default.video(E()),x=function(n){var e=Object(r.useRef)();return Object(r.useEffect)((function(){n.peer.on("stream",(function(n){e.current.srcObject=n}))}),[n.peer]),a.a.createElement(O,{playsInline:!0,autoPlay:!0,ref:e})},y={height:window.innerHeight/2,width:window.innerWidth/2},k=function(n){var e=Object(r.useState)([]),t=Object(f.a)(e,2),i=t[0],c=t[1],u=Object(r.useRef)(),o=Object(r.useRef)(),d=Object(r.useRef)([]),m=n.match.params.roomID;return Object(r.useEffect)((function(){u.current=s.a.connect("https://mochaserver.herokuapp.com/"),navigator.mediaDevices.getUserMedia({video:y,audio:!0}).then((function(n){o.current.srcObject=n,u.current.emit("join room",m),u.current.on("all users",(function(e){var t=[];e.forEach((function(e){var r=function(n,e,t){var r=new h.a({initiator:!0,trickle:!1,stream:t});return r.on("signal",(function(t){u.current.emit("sending signal",{userToSignal:n,callerID:e,signal:t})})),r}(e,u.current.id,n);d.current.push({peerID:e,peer:r}),t.push(r)})),c(t)})),u.current.on("user joined",(function(e){var t=function(n,e,t){var r=new h.a({initiator:!1,trickle:!1,stream:t});return r.on("signal",(function(n){u.current.emit("returning signal",{signal:n,callerID:e})})),r.signal(n),r}(e.signal,e.callerID,n);d.current.push({peerID:e.callerID,peer:t}),c((function(n){return[].concat(Object(l.a)(n),[t])}))})),u.current.on("receiving returned signal",(function(n){d.current.find((function(e){return e.peerID===n.id})).peer.signal(n.signal)}))}))}),[m]),a.a.createElement(j,null,a.a.createElement(w,{muted:!0,ref:o,autoPlay:!0,playsInline:!0}),i.map((function(n,e){return a.a.createElement(x,{key:e,peer:n})})))},I=t(67);function D(){var n=Object(v.a)(["\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n  border: none;\n  color: #5f6368;\n  background-color: #eee;\n\n  font-size: 1.2rem;\n"]);return D=function(){return n},n}function z(){var n=Object(v.a)(["\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n  border: none;\n  color: #fff;\n  background-color: #00796b;\n  cursor: pointer;\n  font-size: 1.2rem;\n  &:hover {\n    opacity: 0.7;\n  }\n"]);return z=function(){return n},n}function M(){var n=Object(v.a)(["\n  font-weight: 400;\n  margin-right: 20px;\n"]);return M=function(){return n},n}function R(){var n=Object(v.a)(["\n  display: flex;\n"]);return R=function(){return n},n}function W(){var n=Object(v.a)(["\n  font-weight: 400;\n  font-size: 1.25rem;\n  color: #5f6368;\n  padding-bottom: 3em;\n"]);return W=function(){return n},n}function N(){var n=Object(v.a)(["\n  font-size: 2.75rem;\n  font-weight: 400;\n  line-height: 3.25rem;\n  padding-bottom: 0.5em;\n"]);return N=function(){return n},n}function P(){var n=Object(v.a)([""]);return P=function(){return n},n}function S(){var n=Object(v.a)(["\n  margin-bottom: 5px;\n"]);return S=function(){return n},n}function B(){var n=Object(v.a)(["\n  fill: #00796b;\n  width: 100px;\n  height: 54px;\n"]);return B=function(){return n},n}function J(){var n=Object(v.a)(["\n  vertical-align: middle;\n"]);return J=function(){return n},n}function A(){var n=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  font-weight: 400;\n  font-size: 1.5rem;\n  color: #878a8e;\n"]);return A=function(){return n},n}function C(){var n=Object(v.a)(["\n  display: flex;\n  height: calc(100vh - 90px);\n  min-height: 100%;\n  align-items: center;\n  margin: 0 100px;\n  justify-content: space-between;\n"]);return C=function(){return n},n}function G(){var n=Object(v.a)(["\n  display: flex;\n  height: 90px;\n  justify-content: space-between;\n"]);return G=function(){return n},n}function H(){var n=Object(v.a)([""]);return H=function(){return n},n}var T=p.default.div(H()),U=p.default.div(G()),$=p.default.div(C()),q=p.default.div(A()),F=p.default.div(J()),K=Object(p.default)(I.a)(B()),L=p.default.div(S()),Q=p.default.div(P()),V=p.default.div(N()),X=p.default.div(W()),Y=p.default.div(R()),Z=p.default.div(M()),_=p.default.button(z()),nn=p.default.input.attrs({placeholder:"Enter a room link"})(D()),en=t(69),tn=function(n){return a.a.createElement(T,null,a.a.createElement(U,null,a.a.createElement(q,null,a.a.createElement(F,null,a.a.createElement(K,null)),a.a.createElement(L,null,"Mocha"))),a.a.createElement($,null,a.a.createElement(Q,null,a.a.createElement(V,null,"Premium video meetings. Now free for everyone."),a.a.createElement(X,null,"We re-engineered the service we built for secure business meetings, Google Meet, to make it free and available for all."),a.a.createElement(Y,null,a.a.createElement(Z,null,a.a.createElement(_,{onClick:function(){var e=Object(en.v4)();n.history.push("/room/".concat(e))}},"New Meeting ")),a.a.createElement(Z,null,a.a.createElement(nn,null)))),a.a.createElement(Q,null)))};var rn=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(u.a,null,a.a.createElement(o.c,null,a.a.createElement(o.a,{path:"/",exact:!0,component:tn}),a.a.createElement(o.a,{path:"/room/:roomID",component:k}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(rn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))},73:function(n,e,t){n.exports=t(147)},78:function(n,e,t){},79:function(n,e,t){}},[[73,1,2]]]);
//# sourceMappingURL=main.6225f04d.chunk.js.map